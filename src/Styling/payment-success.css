/* Payment Success — SCOPED STYLES
   Scope key: [data-page="payment-success"]
   (Your JSX already has: <main className="pay-result-page" data-page="payment-success">)
*/

/* Theme tokens — local to this page only */
[data-page="payment-success"]{
  --bg: hsl(210 20% 98%);
  --surface: hsl(0 0% 100%);
  --text: hsl(222 47% 11%);
  --muted: hsl(215 16% 47%);
  --line: hsl(214 32% 91%);

  --success-300: hsl(152 76% 65%);
  --success-500: hsl(152 61% 45%);
  --success-600: hsl(152 70% 35%);

  --radius-lg: 18px;
  --radius-md: 12px;

  --shadow-sm: 0 1px 2px rgba(0,0,0,.05);
  --shadow-md: 0 10px 34px rgba(2,6,23,.12);

  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Dark mode (scoped) */
@media (prefers-color-scheme: dark){
  [data-page="payment-success"]{
    --bg: hsl(222 47% 4%);
    --surface: hsl(222 45% 7%);
    --text: hsl(210 40% 96%);
    --muted: hsl(215 20% 75%);
    --line: hsl(222 34% 17%);
    --shadow-sm: 0 1px 2px rgba(0,0,0,.25);
    --shadow-md: 0 12px 36px rgba(0,0,0,.5);
  }
}

/* Page shell (scoped to the same element that carries the data attribute) */
[data-page="payment-success"].pay-result-page{
  min-height: 72vh;
  display: grid;
  place-items: center;
  padding: 28px;
  color: var(--text);
  font-family: var(--font-sans);
  background:
    radial-gradient(1200px 600px at 70% -10%, hsl(152 61% 45% / .08), transparent 60%),
    radial-gradient(1000px 520px at 15% 110%, hsl(200 90% 50% / .08), transparent 60%),
    var(--bg);
}

/* Card */
[data-page="payment-success"] .pay-card{
  width: 100%;
  max-width: 680px;
  margin-top: 120px;
  border-radius: var(--radius-lg);
  padding: 32px 30px 26px;
  text-align: center;

  background:
    linear-gradient(var(--surface), var(--surface)) padding-box,
    linear-gradient(180deg, hsl(152 76% 65% / .7), hsl(152 61% 45% / .35)) border-box;
  border: 1px solid transparent;
  backdrop-filter: saturate(120%) blur(6px);
  -webkit-backdrop-filter: saturate(120%) blur(6px);

  box-shadow: var(--shadow-md);
  animation: pay-card-in .35s ease-out both;
}
@keyframes pay-card-in{
  from{ opacity: 0; transform: translateY(8px) scale(.985); }
  to  { opacity: 1; transform: translateY(0)  scale(1); }
}

/* Loading */
[data-page="payment-success"] .pay-loading{ text-align: center; }
[data-page="payment-success"] .pay-spinner{
  width: 38px; height: 38px; border-radius: 999px;
  margin: 0 auto 14px;
  border: 3px solid hsl(220 14% 90%);
  border-top-color: hsl(222 47% 11%);
  animation: pay-spin .9s linear infinite;
}
@keyframes pay-spin{ to{ transform: rotate(360deg); } }

/* Success icon */
[data-page="payment-success"] .pay-icon{
  width: 96px; height: 96px; margin: 6px auto 16px; border-radius: 999px;
  display: grid; place-items: center;
  background: radial-gradient(70% 70% at 30% 30%, var(--success-300), var(--success-500));
  box-shadow: inset 0 -10px 22px rgba(0,0,0,.18), var(--shadow-sm);
}
[data-page="payment-success"] .pay-icon svg{
  width: 50px; height: 50px; stroke: #fff; stroke-width: 4; fill: none;
  stroke-linecap: round; stroke-linejoin: round;
  stroke-dasharray: 100; stroke-dashoffset: 100;
  animation: pay-draw .7s ease .15s forwards;
}
@keyframes pay-draw{ to{ stroke-dashoffset: 0; } }

/* Text */
[data-page="payment-success"] .pay-card h1{
  margin: 4px 0 6px;
  font-size: clamp(22px, 3.2vw, 30px);
  line-height: 1.15;
  letter-spacing: .2px;
}
[data-page="payment-success"] .pay-card p{
  color: var(--muted);
  font-size: 15.5px;
  line-height: 1.65;
  margin: 8px 0 0;
}
[data-page="payment-success"] .pay-note{ margin-top: 8px; }

/* Details grid */
[data-page="payment-success"] .pay-details{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px 16px;
  margin: 20px auto 6px;
  max-width: 540px;
}
[data-page="payment-success"] .pay-detail{
  border: 1px solid var(--line);
  border-radius: var(--radius-md);
  padding: 12px 14px;
  text-align: left;
  background: linear-gradient(0deg, hsl(152 61% 45% / .045), transparent);
}
[data-page="payment-success"] .pay-detail small{
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 3px;
  letter-spacing: .2px;
}
[data-page="payment-success"] .pay-detail code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 12.5px;
  color: var(--text);
}

/* Actions */
[data-page="payment-success"] .pay-actions{
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 22px;
}
[data-page="payment-success"] .btn{
  -webkit-tap-highlight-color: transparent;
  appearance: none;
  cursor: pointer;
  border: 1px solid var(--line);
  background: var(--surface);
  color: var(--text);
  padding: 10px 16px;
  font-size: 14.5px;
  border-radius: 12px;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  box-shadow: var(--shadow-sm);
  transition: transform .06s ease, filter .2s ease, box-shadow .25s ease, border-color .2s ease;
}
[data-page="payment-success"] .btn:hover{ transform: translateY(-1px); }
[data-page="payment-success"] .btn:active{ transform: translateY(0); }
[data-page="payment-success"] .btn:focus-visible{
  outline: 0;
  box-shadow: 0 0 0 3px hsl(200 95% 50% / .28);
}
[data-page="payment-success"] .btn-primary{
  border: 0;
  color: #fff;
  background: linear-gradient(180deg, var(--success-300), var(--success-600));
  box-shadow: 0 10px 24px hsl(152 61% 45% / .28);
}
[data-page="payment-success"] .btn-primary:hover{ filter: brightness(1.04); }

/* Confetti (optional) */
[data-page="payment-success"] .confetti{ position: relative; width: 0; height: 0; }
[data-page="payment-success"] .confetti span{
  position: fixed;
  top: -8vh;
  left: calc(5% + var(--x,0) * 1%);
  width: var(--size, 7px);
  height: calc(var(--size, 7px) * .5);
  opacity: .9;
  border-radius: 1px;
  background: hsl(var(--h, 140) 80% 55%);
  animation: pay-confetti-fall var(--dur, 4.5s) linear var(--delay, 0s) forwards;
  z-index: 2;
  pointer-events: none;
  filter: saturate(115%);
}
@keyframes pay-confetti-fall{
  0%{ transform: translateY(0) rotate(0); }
  100%{ transform: translateY(120vh) rotate(720deg); }
}
/* sprinkle */
[data-page="payment-success"] .confetti span:nth-child(1){ --x: 4;  --h: 152; --dur: 4.6s; --delay: .05s; --size: 7px; }
[data-page="payment-success"] .confetti span:nth-child(2){ --x: 12; --h: 200; --dur: 4.1s; --delay: 0s;   --size: 6px; }
[data-page="payment-success"] .confetti span:nth-child(3){ --x: 20; --h: 30;  --dur: 4.8s; --delay: .2s;  --size: 7px; }
[data-page="payment-success"] .confetti span:nth-child(4){ --x: 28; --h: 330; --dur: 4.0s; --delay: .35s; --size: 8px; }
[data-page="payment-success"] .confetti span:nth-child(5){ --x: 36; --h: 270; --dur: 4.7s; --delay: .15s; --size: 6px; }
[data-page="payment-success"] .confetti span:nth-child(6){ --x: 44; --h: 15;  --dur: 3.9s; --delay: .1s;  --size: 8px; }
[data-page="payment-success"] .confetti span:nth-child(7){ --x: 52; --h: 210; --dur: 4.4s; --delay: .22s; --size: 7px; }
[data-page="payment-success"] .confetti span:nth-child(8){ --x: 60; --h: 300; --dur: 4.0s; --delay: .28s; --size: 8px; }
[data-page="payment-success"] .confetti span:nth-child(9){ --x: 68; --h: 50;  --dur: 4.5s; --delay: .12s; --size: 7px; }
[data-page="payment-success"] .confetti span:nth-child(10){--x: 76; --h: 180; --dur: 4.2s; --delay: .25s; --size: 7px; }
[data-page="payment-success"] .confetti span:nth-child(11){--x: 84; --h: 320; --dur: 4.6s; --delay: .18s; --size: 6px; }
[data-page="payment-success"] .confetti span:nth-child(12){--x: 92; --h: 260; --dur: 3.9s; --delay: .32s; --size: 8px; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  [data-page="payment-success"] .pay-card{ animation: none; }
  [data-page="payment-success"] .pay-icon svg{ animation: none; stroke-dashoffset: 0; }
  [data-page="payment-success"] .confetti span{ display: none; }
}

/* Responsive */
@media (max-width: 680px){
  [data-page="payment-success"] .pay-card{ padding: 26px 18px 20px; border-radius: 16px; }
  [data-page="payment-success"] .pay-details{ grid-template-columns: 1fr; gap: 10px; }
}
